\section{Implementierung}

Softwareseitig haben wir eine digitale Testumgebung mit der Unity 3D\footnote{~Unity3D~\url{https://unity3d.com}} Game-Engine erstellt. Für die Untersuchung der Hypothesen wurde eine ruhige Umgebung benötigt, die die Probanden in der richtigen Art und Weise dabei unterstützt in einen schlafähnlichen Zustand zu gelangen. 
Das gewählte Interface für die hier durchgeführten Untersuchungen ist das HTC Vive\footnote{~HTC Vive~\url{https://www.vive.com}} \textit{Head Mounted Device} (HMD) mit den zugehörigen Controllern. 
Bewegung (Locomotion) ist, bis auf Kopfbewegungen, innerhalb der digitalen Umgebung nicht vorgesehen, da die Teilnehmer sitzend Aufgaben erledigen. 
Die Eingabemethoden zur Bewältigung der gestellten Aufgaben werden mit Zeigeoperationen innerhalb der virtuellen Umgebung realisiert. 

\subsection{Codekonventionen und Syntax}

Um eine einheitliche Code-Qualität zu gewährleisten haben wir einige Konventionen festgelegt. Diese sollen außerdem sicherstellen, dass Code, der von unterschiedlichen Entwicklern produziert wurde von allen Beteiligten schnell verstanden und verändert werden kann.
Ein Auszug aus diesen Konventionen kann in der folgenden Auflistung gesehen werden: 
\begin{itemize}
    \item Verwende "`PascalCasing"' für Klassen- und Methodennamen
    \item Verwende "`camelCasing"' für Methoden-Argumente und lokale Variablen
    \item Verwende Substantive oder Substantiv-Ausdrücke als Klassennamen.
    \item Interfaces soll ein großes "`I"' vorangestellt werden. Interfacenamen sind Substantive (-Ausdrücke) oder Adjektive.
    \item \ldots
\end{itemize}

Diese halten sich an die offiziellen .NET Codekonventionen von Microsoft~\cite{online:condeConventions}.

\subsection{Projektstruktur}

Bei der Implementierung des Projekts Haben wir einen Modularen Ansatz gewählt. Einzelne Abschnitte, wie beispielsweise die Ruhephase oder die Durchführung von Aufgaben sind in einzelne Unity-Objekte verpackt worden, welche automatisch die für sie relevanten Abläufe durchführen. 

Manche Komponenten müssen auch auf den globalen zustand zugreifen und alle Komponenten müssen Daten erfassen und abspeichern. Um diesen Punkt zu lösen und die Modularität nicht zu zerstören wird das Unity Eventsystem genutzt und als Schnittstelle zwischen einer globalen Manager-Komponente und den einzelnen kleinen Teilen verwendet. 
Diese globale Komponente übernimmt neben dem Gesamtablauf auch die Speicherung der Bewegungsinformationen des Probanden. 

Um festzustellen, ob Studienteilnehmer eher unruhig waren während der Ruhephase wird der Vorwärts-Vektor des HMD sowie die Position dieses innerhalb der Virtuellen Umgebung aufgezeichnet.

Für die Aufgaben werden die folgenden werte erfasst:
\begin{itemize}
    \item Gegebene und erwartete Antwort
    \item Korrektheit der gegebenen Antwort
    \item Zeit der Gegebenen Antwort
\end{itemize}

\subsection{VR-Umgebung}
\todoTob{In-Study umgebung Beschreiben -> Interessant für die Aussagen im Anhang (Partikel etc.)}

Um einen möglichst hohen Entspannungsgrad zu erreichen haben wir uns dazu entschieden die Probanden sowohl visuell mittels VR, als auch auditiv durch Over-Ear-Kopfhörer von der Außenwelt abzuschotten. Dazu implementierten wir eine 360-Grad-Weltraumumgebung. Die Wahl für dieses Szenario trafen wir, da wir die Teilnehmer in eine ruhige, dunkle Umgebung hineinsetzen wollten, welche zeitgleich aber weder unheimlich, noch beklemmend wirkt. Genau deshalb erachteten wir eine Umgebung mit viel Platz auf allen Seiten mit einem ansehnlichen Sternenhimmel, unter welchem sich die Probanden wohl fühlen sollen, als passend. Damit die Umgebung nicht starr und somit unnatürlich wirkte, fügten wir bunte, an Glühwürmchen erinnernde Partikel hinzu, welche langsam aber stetig hoch in den Himmel steigen. 
Auf auditiver Ebene entschieden wir uns für eine sphärische, ruhige, und vor allem durchgehende Musik, welche auch für Meditationen verwendet wird. Dies soll zwei Zwecke erfüllen. Zum einen sollte die Immersion der Weltraumumgebung verstärkt werden und dem Teilnehmer somit das Gefühl vermitteln, dass er sich an einem anderen Ort befindet und zum anderen soll die durchgängige Musik kleinere, störende Geräusche daran hindern, den Probanden abzulenken.
Durch die Synergie aus VR-Umgebung und Musik erhofften wir uns die Probanden zum entspannen beziehungsweise zum schlafen zu bringen.   
\todoAll{Korrekturlesen ob alles passt}
