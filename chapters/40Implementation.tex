\section{Implementierung}

Softwareseitig haben wir eine digitale Testumgebung mit der Unity 3D\footnote{~Unity3D~\url{https://unity3d.com}} Game-Engine erstellt. Für die Untersuchung der Hypothesen wurde eine ruhige Umgebung benötigt, die die Probanden in der richtigen Art und Weise dabei unterstützt in einen schlafähnlichen Zustand zu gelangen. 
Das gewählte Interface für die hier durchgeführten Untersuchungen ist die HTC Vive\footnote{~HTC Vive~\url{https://www.vive.com}} mit den zugehörigen Controllern. 
Bewegung (Locomotion) ist, bis auf Kopfbewegungen, innerhalb der digitalen Umgebung nicht vorgesehen, da die Teilnehmer sitzend Aufgaben erledigen. 
Die Eingabemethoden zur Bewältigung der gestellten Aufgaben werden mit Zeigeoperationen innerhalb der virtuellen Umgebung realisiert. 

\subsection{Codekonventionen und Syntax}

Um eine einheitliche Code-Qualität zu gewährleisten haben wir einige Konventionen festgelegt. Diese sollen außerdem sicherstellen, dass Code, der von unterschiedlichen Entwicklern produziert wurde von allen Beteiligten schnell verstanden und verändert werden kann.
Ein Auszug aus diesen Konventionen kann in der folgenden Auflistung gesehen werden: 
\begin{itemize}
    \item Verwende "`PascalCasing"' für Klassen- und Methodennamen
    \item Verwende "`camelCasing"' für Methoden-Argumente und lokale Variablen
    \item Verwende Substantive oder Substantiv-Ausdrücke als Klassennamen.
    \item Interfaces soll ein großes "`I"' vorangestellt werden. Interfacenamen sind Substantive (-Ausdrücke) oder Adjektive.
    \item \ldots
\end{itemize}

Diese halten sich an die offiziellen .NET Codekonventionen von Microsoft~\cite{online:condeConventions}.

\subsection{Projektstruktur}

Bei der Implementierung des Projekts Haben wir einen Modularen Ansatz gewählt. Einzelne Abschnitte, wie beispielsweise die "`Schlafphase"' oder die Durchführung von Aufgaben sind in einzelne Unity-Objekte verpackt worden, welche automatisch die für sie relevanten Abläufe durchführen. 

Manche Komponenten müssen auch auf den globalen zustand zugreifen und alle Komponenten müssen Daten erfassen und abspeichern. Um diesen Punkt zu lösen und die Modularität nicht zu zerstören wird das Unity Eventsystem genutzt und als Schnittstelle zwischen einer globalen Manager-Komponente und den einzelnen kleinen Teilen verwendet. 
Diese globale Komponente übernimmt neben dem Gesamtablauf auch die Speicherung der Bewegungsinformationen des Probanden. 

Um eine mögliche unruhige Durchführung der Studie zu erfassen wird der Vorwärts-Vektor des HMD sowie die Position dieses innerhalb der Virtuellen Umgebung aufgezeichnet.\todoTob{Dieser Satz muss noch mal umformuliert werden}

Für die Aufgaben werden die folgenden werte erfasst:
\begin{itemize}
    \item Gegebene und erwartete Antwort
    \item Korrektheit der gegebenen Antwort
    \item Zeit der Gegebenen Antwort
\end{itemize}

\todoTob{In-Study umgebung Beschreiben -> Interessant für die Aussagen im Anhang (Partikel etc.)}
